import{j as e}from"./jsx-runtime-Z8WwdQU7.js";import{r as c}from"./index-BPQRexiR.js";import{g as d,f as h}from"./components-DpadYxWV.js";const m="_pageWrapper_179yr_21",y="_container_179yr_41",_="_pageHeader_179yr_59",x="_backButton_179yr_77",p="_victimName_179yr_111",u="_mainContent_179yr_133",g="_imageSection_179yr_153",j="_imageGalleryWrapper_179yr_165",v="_profileImage_179yr_177",b="_mainImage_179yr_199",N="_placeholderImage_179yr_213",f="_thumbnails_179yr_233",w="_thumbnail_179yr_233",I="_activeThumbnail_179yr_293",k="_infoSection_179yr_309",C="_relation_179yr_323",B="_location_179yr_339",S="_date_179yr_367",L="_category_179yr_383",T="_shareButtons_179yr_403",V="_shareButton_179yr_403",W="_storyContent_179yr_473",H="_storyLabel_179yr_481",D="_storyText_179yr_495",$="_additionalDetails_179yr_531",M="_detailItem_179yr_551",z="_detailLabel_179yr_563",G="_detailValue_179yr_579",R="_submitterInfo_179yr_597",t={pageWrapper:m,container:y,pageHeader:_,backButton:x,victimName:p,mainContent:u,imageSection:g,imageGalleryWrapper:j,profileImage:v,mainImage:b,placeholderImage:N,thumbnails:f,thumbnail:w,activeThumbnail:I,infoSection:k,relation:C,location:B,date:S,category:L,shareButtons:T,shareButton:V,storyContent:W,storyLabel:H,storyText:D,additionalDetails:$,detailItem:M,detailLabel:z,detailValue:G,submitterInfo:R},q=({data:a})=>[{title:`${a.story.victimName||a.story.title} | Story Submission`},{name:"description",content:a.story.description.substring(0,160)+"..."}];function U({story:a}){const n=typeof window<"u"?window.location.href:"",i=`Read ${a.victimName}'s story`,r=s=>{const o={facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(n)}`,linkedin:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(n)}`,twitter:`https://twitter.com/intent/tweet?url=${encodeURIComponent(n)}&text=${encodeURIComponent(i)}`};o[s]&&window.open(o[s],"_blank","width=600,height=400")},l=async()=>{try{await navigator.clipboard.writeText(n),alert("Link copied to clipboard!")}catch(s){console.error("Failed to copy:",s)}};return e.jsxs("div",{className:t.shareButtons,children:[e.jsx("button",{onClick:()=>r("facebook"),className:t.shareButton,"aria-label":"Share on Facebook",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),e.jsx("button",{onClick:()=>r("linkedin"),className:t.shareButton,"aria-label":"Share on LinkedIn",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})}),e.jsx("button",{onClick:l,className:t.shareButton,"aria-label":"Copy link",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}),e.jsx("button",{onClick:()=>r("twitter"),className:t.shareButton,"aria-label":"Share",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("circle",{cx:"18",cy:"5",r:"3"}),e.jsx("circle",{cx:"6",cy:"12",r:"3"}),e.jsx("circle",{cx:"18",cy:"19",r:"3"}),e.jsx("line",{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}),e.jsx("line",{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"})]})})]})}function F({images:a,victimName:n}){const[i,r]=c.useState(0);return!a||a.length===0?e.jsx("div",{className:t.profileImage,children:e.jsx("div",{className:t.placeholderImage,children:e.jsx("img",{src:"/Avatar-default.png",alt:"Default avatar",style:{width:"100%",height:"100%",objectFit:"cover"}})})}):e.jsxs("div",{className:t.imageGalleryWrapper,children:[e.jsx("div",{className:t.profileImage,children:e.jsx("img",{src:a[i],alt:n||"Memorial photo",className:t.mainImage})}),a.length>1&&e.jsx("div",{className:t.thumbnails,children:a.map((l,s)=>e.jsx("button",{className:`${t.thumbnail} ${s===i?t.activeThumbnail:""}`,onClick:()=>r(s),"aria-label":`View image ${s+1}`,children:e.jsx("img",{src:l,alt:`Thumbnail ${s+1}`})},s))})]})}function J(){const{story:a}=d(),n=i=>new Date(i).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});return e.jsx("div",{className:t.pageWrapper,children:e.jsxs("div",{className:t.container,children:[e.jsxs("header",{className:t.pageHeader,children:[e.jsx(h,{to:"/stories",className:t.backButton,"aria-label":"Back to stories",children:e.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M19 12H5M12 19l-7-7 7-7"})})}),e.jsx("h1",{className:t.victimName,children:a.victimName||a.title})]}),e.jsxs("div",{className:t.mainContent,children:[e.jsx("div",{className:t.imageSection,children:e.jsx(F,{images:a.images,victimName:a.victimName})}),e.jsxs("div",{className:t.infoSection,children:[a.relation&&e.jsx("p",{className:t.relation,children:a.relation}),a.state&&e.jsxs("p",{className:t.location,children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),e.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),a.state]}),a.date&&e.jsxs("p",{className:t.date,children:["Killed ",n(a.date)]}),a.category&&e.jsx("p",{className:t.category,children:a.category}),e.jsx(U,{story:a})]})]}),e.jsxs("article",{className:t.storyContent,children:[e.jsx("h2",{className:t.storyLabel,children:"Story:"}),e.jsx("div",{className:t.storyText,children:a.description.split(`
`).map((i,r)=>i.trim()&&e.jsx("p",{children:i},r))}),(a.age||a.gender||a.injuryType)&&e.jsxs("div",{className:t.additionalDetails,children:[a.age&&e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Age:"}),e.jsx("span",{className:t.detailValue,children:a.age})]}),a.gender&&e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Gender:"}),e.jsx("span",{className:t.detailValue,children:a.gender})]}),a.injuryType&&e.jsxs("div",{className:t.detailItem,children:[e.jsx("span",{className:t.detailLabel,children:"Injury Type:"}),e.jsx("span",{className:t.detailValue,children:a.injuryType})]})]}),a.submitterName&&e.jsx("div",{className:t.submitterInfo,children:e.jsxs("em",{children:["Submitted by: ",a.submitterName]})})]})]})})}export{J as default,q as meta};
