import{j as e}from"./jsx-runtime-Z8WwdQU7.js";import{r as u}from"./index-BPQRexiR.js";import{g as B,f as E,h as I}from"./components-DpadYxWV.js";const w=u.createContext(null);function M({children:t}){const[i,n]=u.useState([]),r=u.useCallback((d,c={})=>{const{type:g="success",position:h="top-right",duration:x=3e3}=c,a=Date.now()+Math.random(),o={id:a,message:d,type:g,position:h};return n(p=>[...p,o]),x>0&&setTimeout(()=>{n(p=>p.filter(l=>l.id!==a))},x),a},[]),s=u.useCallback(d=>{n(c=>c.filter(g=>g.id!==d))},[]);return e.jsxs(w.Provider,{value:{showToast:r,hideToast:s},children:[t,e.jsx(A,{toasts:i,onClose:s})]})}function N(){const t=u.useContext(w);if(!t)throw new Error("useToast must be used within a ToastProvider");return t}function A({toasts:t,onClose:i}){const n=t.reduce((r,s)=>(r[s.position]||(r[s.position]=[]),r[s.position].push(s),r),{});return e.jsx(e.Fragment,{children:Object.entries(n).map(([r,s])=>e.jsx("div",{style:F(r),children:s.map(d=>e.jsx(D,{toast:d,onClose:i},d.id))},r))})}function D({toast:t,onClose:i}){const n=U(t.type);return e.jsxs("div",{style:n.container,children:[e.jsx("div",{style:n.iconWrapper,children:P(t.type)}),e.jsx("p",{style:n.message,children:t.message}),e.jsx("button",{onClick:()=>i(t.id),style:n.closeButton,"aria-label":"Close",children:"Ã—"})]})}function F(t){return{...{position:"fixed",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",padding:"20px",pointerEvents:"none"},...{"top-left":{top:0,left:0},"top-center":{top:0,left:"50%",transform:"translateX(-50%)"},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-center":{bottom:0,left:"50%",transform:"translateX(-50%)"},"bottom-right":{bottom:0,right:0}}[t]}}function U(t){const i={success:{bg:"#10b981",icon:"#dcfce7",text:"#fff"},danger:{bg:"#ef4444",icon:"#fee2e2",text:"#fff"},warning:{bg:"#f59e0b",icon:"#fef3c7",text:"#fff"},info:{bg:"#3b82f6",icon:"#dbeafe",text:"#fff"},pending:{bg:"#6b7280",icon:"#f3f4f6",text:"#fff"}},n=i[t]||i.info;return{container:{display:"flex",alignItems:"center",gap:"12px",background:n.bg,color:n.text,padding:"14px 16px",borderRadius:"8px",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",minWidth:"320px",maxWidth:"420px",pointerEvents:"auto",animation:"slideIn 0.3s ease-out, fadeIn 0.3s ease-out"},iconWrapper:{width:"24px",height:"24px",borderRadius:"50%",background:n.icon,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,fontSize:"14px"},message:{flex:1,margin:0,fontSize:"14px",fontWeight:"500",lineHeight:"1.5"},closeButton:{background:"transparent",border:"none",color:n.text,fontSize:"24px",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",opacity:.7,transition:"opacity 0.2s",flexShrink:0}}}function P(t){const i={success:"âœ“",danger:"âœ•",warning:"âš ",info:"â„¹",pending:"â‹¯"};return i[t]||i.info}function O(){return e.jsx("style",{children:`
      @keyframes slideIn {
        from {
          transform: translateX(100%);
        }
        to {
          transform: translateX(0);
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      button:hover {
        opacity: 1 !important;
      }
    `})}const L=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],H=["Cyclist","Pedestrian","Motorcyclist"],V=["Fatal","Non-fatal"],Y=["Male","Female","Non-binary","Other","Prefer not to say"];function te(){return e.jsxs(M,{children:[e.jsx(O,{}),e.jsx($,{})]})}function $(){const{submissions:t,error:i}=B();if(i)return e.jsxs("div",{style:{padding:"40px",maxWidth:"1200px",margin:"0 auto"},children:[e.jsx("h1",{style:{fontSize:"2rem",marginBottom:"20px",color:"#dc2626"},children:"Error Loading Submissions"}),e.jsx("p",{children:i})]});const n={pending:t.filter(r=>r.status==="pending").length,approved:t.filter(r=>r.status==="approved").length,published:t.filter(r=>r.status==="published").length,rejected:t.filter(r=>r.status==="rejected").length};return e.jsxs("div",{style:{padding:"40px 20px",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxs("div",{style:{marginBottom:"40px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsx("h1",{style:{fontSize:"2rem",fontWeight:"bold",margin:0},children:"Story Submissions"}),e.jsx(E,{to:"/stories",style:{padding:"10px 20px",background:"#000",color:"#fff",textDecoration:"none",borderRadius:"6px",fontWeight:"600"},children:"View Stories Page"})]}),e.jsx("p",{style:{color:"#666",margin:0},children:"All story submissions from your database"})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginBottom:"40px"},children:[e.jsx(S,{label:"Total",count:t.length,color:"#3b82f6"}),e.jsx(S,{label:"Pending",count:n.pending,color:"#f59e0b"}),e.jsx(S,{label:"Approved",count:n.approved,color:"#10b981"}),e.jsx(S,{label:"Published",count:n.published,color:"#8b5cf6"})]}),t.length===0?e.jsx("div",{style:{padding:"60px 20px",textAlign:"center",background:"#f9f9f9",borderRadius:"12px",border:"2px dashed #ddd"},children:e.jsx("p",{style:{fontSize:"1.1rem",color:"#666",margin:0},children:"No submissions yet. Submit a story to see it here!"})}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:t.map(r=>e.jsx(q,{submission:r},r.id))})]})}function S({label:t,count:i,color:n}){return e.jsxs("div",{style:{padding:"24px",background:"#fff",border:"2px solid #e5e5e5",borderRadius:"12px"},children:[e.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:"0 0 8px 0"},children:t}),e.jsx("p",{style:{fontSize:"2rem",fontWeight:"bold",color:n,margin:0},children:i})]})}function q({submission:t}){const i=I(),{showToast:n}=N(),[r,s]=u.useState({isOpen:!1,action:null,message:""}),[d,c]=u.useState(!1),[g,h]=u.useState(!1),[x,a]=u.useState(null),o=u.useRef(null),p={pending:"#f59e0b",approved:"#10b981",published:"#8b5cf6",rejected:"#ef4444"},l=i.state!=="idle";u.useEffect(()=>{var f;if((f=i.data)!=null&&f.success&&i.state==="idle"){if(i.data.updated){n("Story updated successfully!",{type:"success",position:"top-right"}),h(!1);return}const v=i.data.submission.status;if(o.current!==v){o.current=v;const C={approved:{text:"Story approved successfully!",type:"success"},rejected:{text:"Story rejected successfully!",type:"danger"},published:{text:"Story published successfully!",type:"success"}}[v]||{text:"Status updated!",type:"info"};n(C.text,{type:C.type,position:"top-right"})}}},[i.data,i.state,n]);const y=f=>{s({isOpen:!0,action:f,message:{approved:"Do you want to approve this story?",rejected:"Do you want to reject this story?",published:"Do you want to publish this story?"}[f]})},j=()=>{i.submit({submissionId:t.id,status:r.action},{method:"post"}),s({isOpen:!1,action:null,message:""})},T=()=>{s({isOpen:!1,action:null,message:""})},W=()=>{a({submitterName:t.submitterName||"",submitterEmail:t.submitterEmail||"",victimName:t.victimName||"",relation:t.relation||"",incidentDate:t.incidentDate||"",state:t.state||"",roadUserType:t.roadUserType||"",injuryType:t.injuryType||"",age:t.age||"",gender:t.gender||"",shortTitle:t.shortTitle||"",victimStory:t.victimStory||"",photoUrls:t.photoUrls||[]}),h(!0),c(!0)},R=f=>{i.submit({...f,submissionId:t.id,action:"update"},{method:"post"})},z=()=>{h(!1),a(null)};return e.jsxs("div",{style:{background:"#fff",border:"2px solid #e5e5e5",borderRadius:"12px",padding:"24px",opacity:l?.6:1,transition:"all 0.3s ease"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px",gap:"12px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",margin:"0 0 8px 0"},children:t.shortTitle}),e.jsxs("div",{style:{display:"flex",gap:"12px",fontSize:"0.9rem",color:"#666",flexWrap:"wrap"},children:[e.jsxs("span",{children:["ðŸ“ ",t.state]}),e.jsxs("span",{children:["ðŸ“… ",t.incidentDate]}),e.jsxs("span",{children:["ðŸš´ ",t.roadUserType]}),e.jsxs("span",{children:["âš ï¸ ",t.injuryType]})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:()=>c(!d),style:{padding:"8px 16px",background:d?"#000":"#fff",color:d?"#fff":"#000",border:"2px solid #000",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),d?"Hide":"View"]}),!g&&e.jsxs("button",{onClick:W,style:{padding:"8px 16px",background:"#fff",color:"#000",border:"2px solid #000",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),e.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]}),"Edit"]}),e.jsx("div",{style:{padding:"6px 12px",background:p[t.status]||"#999",color:"#fff",borderRadius:"6px",fontSize:"0.85rem",fontWeight:"600",textTransform:"capitalize"},children:t.status})]})]}),!d&&e.jsx("div",{style:{marginBottom:"16px"},children:e.jsx("p",{style:{color:"#333",lineHeight:"1.6",margin:0,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.victimStory})}),d&&e.jsx("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"2px solid #e5e5e5",animation:"fadeIn 0.3s ease"},children:g?e.jsx(X,{editData:x,setEditData:a,handleSaveEdit:R,handleCancelEdit:z,isUpdating:l}):e.jsx(_,{submission:t})}),!g&&e.jsxs(e.Fragment,{children:[(t.status==="pending"||t.status==="rejected")&&e.jsxs("div",{style:{display:"flex",gap:"12px",paddingTop:"16px",borderTop:"1px solid #e5e5e5",flexWrap:"wrap",marginTop:"16px"},children:[e.jsx("button",{onClick:()=>y("approved"),disabled:l,style:{padding:"10px 20px",background:"#10b981",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"600",cursor:l?"not-allowed":"pointer",fontSize:"0.9rem",transition:"background 0.2s"},onMouseEnter:f=>!l&&(f.target.style.background="#059669"),onMouseLeave:f=>!l&&(f.target.style.background="#10b981"),children:"Approve"}),e.jsx("button",{onClick:()=>y("rejected"),disabled:l,style:{padding:"10px 20px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"600",cursor:l?"not-allowed":"pointer",fontSize:"0.9rem",transition:"background 0.2s"},onMouseEnter:f=>!l&&(f.target.style.background="#dc2626"),onMouseLeave:f=>!l&&(f.target.style.background="#ef4444"),children:"Reject"})]}),t.status==="approved"&&e.jsx("div",{style:{display:"flex",gap:"12px",paddingTop:"16px",borderTop:"1px solid #e5e5e5",marginTop:"16px"},children:e.jsx("button",{onClick:()=>y("published"),disabled:l,style:{padding:"10px 20px",background:"#8b5cf6",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"600",cursor:l?"not-allowed":"pointer",fontSize:"0.9rem",transition:"background 0.2s"},onMouseEnter:f=>!l&&(f.target.style.background="#7c3aed"),onMouseLeave:f=>!l&&(f.target.style.background="#8b5cf6"),children:"Publish"})}),t.status==="published"&&e.jsx("div",{style:{paddingTop:"16px",borderTop:"1px solid #e5e5e5",textAlign:"center",color:"#8b5cf6",fontWeight:"600",marginTop:"16px"},children:"âœ“ This story has been published"})]}),r.isOpen&&e.jsx(J,{message:r.message,onConfirm:j,onCancel:T})]})}function _({submission:t}){return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[t.photoUrls&&t.photoUrls.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"12px",color:"#000"},children:["Photos (",t.photoUrls.length,")"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"},children:t.photoUrls.map((i,n)=>e.jsx("div",{style:{position:"relative",paddingBottom:"100%",background:"#f3f4f6",borderRadius:"8px",overflow:"hidden",border:"2px solid #e5e5e5"},children:e.jsx("img",{src:i,alt:`Photo ${n+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})},n))})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"12px",color:"#000"},children:"Story"}),e.jsx("p",{style:{color:"#333",lineHeight:"1.8",margin:0,whiteSpace:"pre-wrap"},children:t.victimStory})]}),e.jsxs("div",{style:{padding:"20px",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb"},children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"16px",color:"#000"},children:"Submitter Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"12px"},children:[e.jsx(m,{label:"Submitter Name",value:t.submitterName}),e.jsx(m,{label:"Submitter Email",value:t.submitterEmail}),t.victimName&&e.jsx(m,{label:"Victim Name",value:t.victimName}),t.relation&&e.jsx(m,{label:"Relation",value:t.relation}),t.age&&e.jsx(m,{label:"Age",value:t.age}),t.gender&&e.jsx(m,{label:"Gender",value:t.gender})]})]}),e.jsxs("div",{style:{padding:"20px",background:"#fefce8",borderRadius:"8px",border:"1px solid #fef08a"},children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"16px",color:"#000"},children:"Incident Details"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"12px"},children:[e.jsx(m,{label:"Incident Date",value:t.incidentDate}),e.jsx(m,{label:"State",value:t.state}),e.jsx(m,{label:"Road User Type",value:t.roadUserType}),e.jsx(m,{label:"Injury Type",value:t.injuryType})]})]}),e.jsx("div",{style:{padding:"16px",background:"#f3f4f6",borderRadius:"8px",fontSize:"0.85rem",color:"#666"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Database ID:"})," ",t.id]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Submitted:"})," ",new Date(t.createdAt).toLocaleString()]}),t.metaobjectId&&e.jsx("div",{style:{color:"#10b981"},children:e.jsx("strong",{children:"âœ… Synced to Shopify"})})]})})]})}function m({label:t,value:i}){return e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"#666",marginBottom:"4px"},children:t}),e.jsx("div",{style:{fontSize:"0.95rem",color:"#000"},children:i||"â€”"})]})}function G({existingImages:t,setExistingImages:i,newImages:n,setNewImages:r,maxImages:s}){const d=u.useRef(null),c=t.length+n.length,g=a=>{const o=Array.from(a.target.files),p=s-c;if(o.length+c>s){alert(`You can only upload up to ${s} images total`);return}const l=[];o.slice(0,p).forEach(y=>{if(y.type.startsWith("image/")){const j=new FileReader;j.onloadend=()=>{l.push({file:y,preview:j.result,id:Date.now()+Math.random()}),l.length===o.slice(0,p).length&&r([...n,...l])},j.readAsDataURL(y)}}),d.current&&(d.current.value="")},h=a=>{const o=t.filter((p,l)=>l!==a);i(o)},x=a=>{const o=n.filter((p,l)=>l!==a);r(o)};return e.jsxs("div",{children:[c<s&&e.jsxs("div",{style:{border:"2px dashed #000",borderRadius:"8px",padding:"32px",textAlign:"center",background:"#f9fafb",marginBottom:"16px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{var a;return(a=d.current)==null?void 0:a.click()},onMouseEnter:a=>{a.currentTarget.style.background="#f3f4f6",a.currentTarget.style.borderColor="#666"},onMouseLeave:a=>{a.currentTarget.style.background="#f9fafb",a.currentTarget.style.borderColor="#000"},children:[e.jsx("input",{ref:d,type:"file",accept:"image/*",multiple:!0,onChange:g,style:{display:"none"}}),e.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",style:{margin:"0 auto 12px"},children:e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"})}),e.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"8px",color:"#000"},children:"Click to upload photos"}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:[c," / ",s," images uploaded"]})]}),(t.length>0||n.length>0)&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"12px"},children:[t.map((a,o)=>e.jsxs("div",{style:{position:"relative",paddingBottom:"100%",background:"#f3f4f6",borderRadius:"8px",overflow:"hidden",border:"2px solid #e5e5e5"},children:[e.jsx("img",{src:a,alt:`Existing ${o+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),e.jsx("button",{type:"button",onClick:()=>h(o),style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"32px",height:"32px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},onMouseEnter:p=>{p.target.style.background="#dc2626",p.target.style.transform="scale(1.1)"},onMouseLeave:p=>{p.target.style.background="#ef4444",p.target.style.transform="scale(1)"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},`existing-${o}`)),n.map((a,o)=>e.jsxs("div",{style:{position:"relative",paddingBottom:"100%",background:"#f3f4f6",borderRadius:"8px",overflow:"hidden",border:"2px solid #10b981"},children:[e.jsx("img",{src:a.preview,alt:`New ${o+1}`,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}),e.jsx("div",{style:{position:"absolute",top:"8px",left:"8px",background:"#10b981",color:"#fff",padding:"4px 8px",borderRadius:"4px",fontSize:"0.75rem",fontWeight:"600"},children:"NEW"}),e.jsx("button",{type:"button",onClick:()=>x(o),style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"#fff",border:"none",borderRadius:"50%",width:"32px",height:"32px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},onMouseEnter:p=>{p.target.style.background="#dc2626",p.target.style.transform="scale(1.1)"},onMouseLeave:p=>{p.target.style.background="#ef4444",p.target.style.transform="scale(1)"},children:e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},a.id||`new-${o}`))]}),c===0&&e.jsx("div",{style:{padding:"24px",textAlign:"center",color:"#666",fontSize:"0.9rem",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e5e5"},children:"No photos uploaded yet"})]})}function X({editData:t,setEditData:i,handleSaveEdit:n,handleCancelEdit:r,isUpdating:s}){const[d,c]=u.useState([]),[g,h]=u.useState(t.photoUrls||[]),x=(o,p)=>{i(l=>({...l,[o]:p}))},a=o=>{o.preventDefault();const p=[...g,...d.map(y=>y.preview)],l={...t,photoUrls:JSON.stringify(p)};n(l)};return e.jsxs("form",{onSubmit:a,style:{display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"16px",color:"#000",paddingBottom:"8px",borderBottom:"2px solid #e5e5e5"},children:"Photos"}),e.jsx(G,{existingImages:g,setExistingImages:h,newImages:d,setNewImages:c,maxImages:10})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"16px",color:"#000",paddingBottom:"8px",borderBottom:"2px solid #e5e5e5"},children:"Story Details"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsx(b,{label:"Short Title",required:!0,value:t.shortTitle,onChange:o=>x("shortTitle",o.target.value),placeholder:"Brief title for this story"}),e.jsx(b,{label:"Victim's Story",required:!0,type:"textarea",value:t.victimStory,onChange:o=>x("victimStory",o.target.value),placeholder:"Share the story...",maxLength:1e3})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"16px",color:"#000",paddingBottom:"8px",borderBottom:"2px solid #e5e5e5"},children:"Submitter Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:[e.jsx(b,{label:"Submitter Name",required:!0,value:t.submitterName,onChange:o=>x("submitterName",o.target.value),placeholder:"Full name"}),e.jsx(b,{label:"Submitter Email",required:!0,type:"email",value:t.submitterEmail,onChange:o=>x("submitterEmail",o.target.value),placeholder:"email@example.com"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"16px",color:"#000",paddingBottom:"8px",borderBottom:"2px solid #e5e5e5"},children:"Victim Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:[e.jsx(b,{label:"Victim Name",value:t.victimName,onChange:o=>x("victimName",o.target.value),placeholder:"Victim's full name (optional)"}),e.jsx(b,{label:"Relation",value:t.relation,onChange:o=>x("relation",o.target.value),placeholder:"Relationship to victim (optional)"}),e.jsx(b,{label:"Age",type:"number",value:t.age,onChange:o=>x("age",o.target.value),placeholder:"Age (optional)"}),e.jsx(k,{label:"Gender",value:t.gender,onChange:o=>x("gender",o.target.value),options:Y,placeholder:"Select gender (optional)"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"16px",color:"#000",paddingBottom:"8px",borderBottom:"2px solid #e5e5e5"},children:"Incident Details"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:[e.jsx(b,{label:"Incident Date",required:!0,type:"date",value:t.incidentDate,onChange:o=>x("incidentDate",o.target.value)}),e.jsx(k,{label:"State",required:!0,value:t.state,onChange:o=>x("state",o.target.value),options:L,placeholder:"Select state"}),e.jsx(k,{label:"Road User Type",required:!0,value:t.roadUserType,onChange:o=>x("roadUserType",o.target.value),options:H,placeholder:"Select road user type"}),e.jsx(k,{label:"Injury Type",required:!0,value:t.injuryType,onChange:o=>x("injuryType",o.target.value),options:V,placeholder:"Select injury type"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"16px",borderTop:"2px solid #e5e5e5"},children:[e.jsx("button",{type:"button",onClick:r,disabled:s,style:{padding:"12px 32px",background:"#f3f4f6",color:"#333",border:"2px solid #e5e5e5",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:s?"not-allowed":"pointer",transition:"all 0.2s ease"},children:"Cancel"}),e.jsx("button",{type:"submit",disabled:s,style:{padding:"12px 32px",background:"#000",color:"#fff",border:"2px solid #000",borderRadius:"8px",fontSize:"1rem",fontWeight:"600",cursor:s?"not-allowed":"pointer",transition:"all 0.2s ease"},children:s?"Saving...":"Save Changes"})]})]})}function b({label:t,required:i,type:n="text",value:r,onChange:s,placeholder:d,maxLength:c}){const g=r?r.length:0,h=n==="textarea";return e.jsxs("div",{children:[e.jsxs("label",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#000",marginBottom:"8px",display:"block"},children:[t,i&&e.jsx("span",{style:{color:"#dc2626",fontWeight:"700"},children:" *"})]}),h?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{value:r,onChange:s,placeholder:d,maxLength:c,required:i,rows:6,style:{width:"100%",padding:"12px 16px",background:"#ffffff",color:"#000",border:"2px solid #000",borderRadius:"6px",fontSize:"1rem",fontFamily:"inherit",resize:"vertical",minHeight:"120px",lineHeight:"1.5",transition:"all 0.2s ease"}}),c&&e.jsxs("div",{style:{fontSize:"0.85rem",color:"#666",textAlign:"right",marginTop:"4px"},children:[g," / ",c," characters"]})]}):e.jsx("input",{type:n,value:r,onChange:s,placeholder:d,maxLength:c,required:i,style:{width:"100%",padding:"12px 16px",background:"#ffffff",color:"#000",border:"2px solid #000",borderRadius:"6px",fontSize:"1rem",fontFamily:"inherit",transition:"all 0.2s ease"}})]})}function k({label:t,required:i,value:n,onChange:r,options:s,placeholder:d}){return e.jsxs("div",{children:[e.jsxs("label",{style:{fontSize:"0.9rem",fontWeight:"600",color:"#000",marginBottom:"8px",display:"block"},children:[t,i&&e.jsx("span",{style:{color:"#dc2626",fontWeight:"700"},children:" *"})]}),e.jsxs("select",{value:n,onChange:r,required:i,style:{width:"100%",padding:"12px 16px",background:"#ffffff",color:"#000",border:"2px solid #000",borderRadius:"6px",fontSize:"1rem",fontFamily:"inherit",cursor:"pointer",transition:"all 0.2s ease"},children:[e.jsx("option",{value:"",children:d||`Select ${t}`}),s.map(c=>e.jsx("option",{value:c,children:c},c))]})]})}function J({message:t,onConfirm:i,onCancel:n}){return e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:n,children:e.jsxs("div",{style:{background:"#fff",borderRadius:"12px",padding:"30px",maxWidth:"400px",width:"90%",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:r=>r.stopPropagation(),children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"16px",color:"#333"},children:"Confirm Action"}),e.jsx("p",{style:{color:"#666",marginBottom:"24px",lineHeight:"1.6"},children:t}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:n,style:{padding:"10px 24px",background:"#f3f4f6",color:"#333",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",fontSize:"0.9rem",transition:"background 0.2s"},onMouseEnter:r=>r.target.style.background="#e5e7eb",onMouseLeave:r=>r.target.style.background="#f3f4f6",children:"Cancel"}),e.jsx("button",{onClick:i,style:{padding:"10px 24px",background:"#3b82f6",color:"#fff",border:"none",borderRadius:"6px",fontWeight:"600",cursor:"pointer",fontSize:"0.9rem",transition:"background 0.2s"},onMouseEnter:r=>r.target.style.background="#2563eb",onMouseLeave:r=>r.target.style.background="#3b82f6",children:"OK"})]})]})})}if(typeof document<"u"){const t=document.createElement("style");t.textContent=`
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  `,document.querySelector("style[data-admin-animations]")||(t.setAttribute("data-admin-animations","true"),document.head.appendChild(t))}export{te as default};
